# Intent Routes Configuration
# Maps request patterns to execution strategies

routes:
  # =============================================================================
  # DEVELOPMENT WORKFLOWS
  # =============================================================================

  # Debug and troubleshooting
  debug:
    patterns:
      - debug
      - fix bug
      - troubleshoot
      - error
      - crash
      - broken
      - not working
      - fails to
      - exception
    confidence_threshold: 0.7
    skill: dev
    strategy: single_skill

  # Verification-focused tasks (part of dev)
  verify:
    patterns:
      - verify
      - validate
      - check
      - ensure
      - confirm
      - audit
      - test that
    confidence_threshold: 0.6
    skill: dev
    strategy: single_skill

  # Testing tasks (part of dev)
  test:
    patterns:
      - test
      - testing
      - spec
      - assert
      - write tests
      - add tests
      - create tests
      - unit test
      - integration test
    confidence_threshold: 0.6
    skill: dev
    strategy: single_skill

  # Refactoring tasks (part of dev)
  refactor:
    patterns:
      - refactor
      - improve
      - clean up
      - restructure
      - simplify
      - optimize code
      - better way
    confidence_threshold: 0.6
    skill: dev
    strategy: single_skill

  # Research tasks (context)
  research:
    patterns:
      - research
      - explore
      - find
      - investigate
      - analyze
      - understand
      - how does
      - how do i
      - what is best
      - compare
    confidence_threshold: 0.7
    skill: context
    strategy: single_skill

  # Implementation tasks
  implement:
    patterns:
      - implement
      - create
      - build
      - add feature
      - new
      - develop
      - make
      - add
    confidence_threshold: 0.7
    skill_chain:
      - dev
      - think
    strategy: skill_chain

  # =============================================================================
  # GIT & VERSION CONTROL
  # =============================================================================

  # Git tasks - use direct commands, no dedicated skill
  git:
    patterns:
      - commit
      - git commit
      - save changes
      - git push
      - git add
      - stage
      - git message
    confidence_threshold: 0.8
    strategy: direct

  git_branch:
    patterns:
      - branch
      - create branch
      - switch branch
      - git checkout
      - git merge
    confidence_threshold: 0.7
    strategy: direct

  # =============================================================================
  # PLANNING & DESIGN
  # =============================================================================

  plan:
    patterns:
      - plan
      - roadmap
      - design
      - architecture
      - approach
      - strategy
      - proposal
      - acceptance criteria
      - given when then
    confidence_threshold: 0.7
    skill: plan
    strategy: single_skill

  review:
    patterns:
      - review
      - code review
      - peer review
      - critique
      - assess
    confidence_threshold: 0.6
    skill: context
    strategy: single_skill

  # =============================================================================
  # DATA & CONFIGURATION
  # =============================================================================

  database:
    patterns:
      - database
      - db
      - sql
      - migration
      - schema
      - table
      - query
      - postgres
      - mysql
      - mongodb
    confidence_threshold: 0.6
    skill: dev
    strategy: single_skill

  config:
    patterns:
      - config
      - configuration
      - settings
      - env
      - environment
      - dotenv
    confidence_threshold: 0.7
    skill: dev
    strategy: single_skill

  # =============================================================================
  # API & SERVICES
  # =============================================================================

  api:
    patterns:
      - api
      - endpoint
      - route
      - rest
      - graphql
      - http
      - request
      - response
    confidence_threshold: 0.6
    skill: dev
    strategy: single_skill

  auth:
    patterns:
      - auth
      - authentication
      - authorization
      - login
      - password
      - jwt
      - oauth
      - token
      - session
      - security
    confidence_threshold: 0.6
    skill_chain:
      - dev
      - think
    strategy: skill_chain

  # =============================================================================
  # INFRASTRUCTURE & DEPLOYMENT
  # =============================================================================

  docker:
    patterns:
      - docker
      - container
      - dockerfile
      - image
      - compose
    confidence_threshold: 0.7
    skill: dev
    strategy: single_skill

  ci_cd:
    patterns:
      - ci cd
      - github actions
      - workflow
      - pipeline
      - deploy
      - deployment
      - cicd
    confidence_threshold: 0.6
    skill: dev
    strategy: single_skill

  # =============================================================================
  # DOCUMENTATION
  # =============================================================================

  docs:
    patterns:
      - docs
      - documentation
      - readme
      - comment
      - explain
      - write docs
      - document
    confidence_threshold: 0.7
    skill: dev
    strategy: single_skill

  # =============================================================================
  # COMPLEX / LARGE SCALE
  # =============================================================================

  # Complex multi-step tasks
  complex:
    patterns:
      - refactor entire
      - migrate
      - optimize system
      - design architecture
      - rebuild
      - rewrite
      - restructure
    confidence_threshold: 0.5
    skill_chain:
      - dev
      - think
      - plan
    strategy: skill_chain

  # Simple queries (no tools needed)
  query:
    patterns:
      - what is
      - how do i
      - explain
      - describe
      - show me
      - tell me
      - what does
      - what are
    confidence_threshold: 0.9
    strategy: direct

  # =============================================================================
  # EMERGENCY / HIGH PRIORITY
  # =============================================================================

  security:
    patterns:
      - security
      - vulnerability
      - exploit
      - secure
      - hack
      - penetration
    confidence_threshold: 0.5
    skill_chain:
      - dev
      - think
    strategy: skill_chain

  hotfix:
    patterns:
      - hotfix
      - urgent
      - critical
      - immediately
      - asap
      - emergency
    confidence_threshold: 0.4
    skill: dev
    strategy: single_skill

  # =============================================================================
  # META ORCHESTRATION (Self-programming agent generation)
  # =============================================================================

  # Self-generating agent topology - vertical decomposition
  meta_vertical:
    patterns:
      - multi-step task
      - complex workflow
      - multiple stages
      - sequential tasks
      - step by step
      - decompose task
      - break down
    confidence_threshold: 0.8
    skill: meta
    strategy: single_skill

  # Self-generating agent topology - horizontal ensemble
  meta_horizontal:
    patterns:
      - explore alternatives
      - multiple approaches
      - compare methods
      - different solutions
      - ensemble
      - parallel exploration
      - best approach
    confidence_threshold: 0.75
    skill: meta
    strategy: single_skill

  # Dynamic tool generation
  meta_tool:
    patterns:
      - need specialized tool
      - create tool for
      - write custom tool
      - new tool
      - tool that can
      - implement tool
    confidence_threshold: 0.7
    skill: meta
    strategy: single_skill

  # Memory operations (requires context skill)
  memory_store:
    patterns:
      - store knowledge
      - remember this
      - save to memory
      - persist information
      - learn this pattern
    confidence_threshold: 0.85
    skill_chain:
      - meta
      - context
    strategy: skill_chain

  memory_query:
    patterns:
      - query memory
      - search knowledge
      - find related
      - what do we know
      - recall
      - from memory
    confidence_threshold: 0.85
    skill_chain:
      - meta
      - context
    strategy: skill_chain
